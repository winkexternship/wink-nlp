const adjectiveExceptions=require("./wn-adjective-exceptions.js"),nounExceptions=require("./wn-noun-exceptions.js"),verbExceptions=require("./wn-verb-exceptions.js"),lemmatizeAdjective=function(value,cache){var lemma=adjectiveExceptions[value];return lemma||((lemma=value.replace(/est$|er$/,"")).length===value.length?value:cache.hasSamePOS(lemma,"ADJ")?lemma:(lemma+="e",cache.hasSamePOS(lemma,"ADJ")?lemma:value))},lemmatizeVerb=function(value,cache){var lemma=verbExceptions[value];if(lemma)return lemma;if((lemma=value.replace(/s$/,"")).length!==value.length&&cache.hasSamePOS(lemma,"VERB"))return lemma;if((lemma=value.replace(/ies$/,"y")).length!==value.length&&cache.hasSamePOS(lemma,"VERB"))return lemma;if((lemma=value.replace(/es$|ed$|ing$/,"")).length!==value.length){if(cache.hasSamePOS(lemma,"VERB"))return lemma;if(lemma+="e",cache.hasSamePOS(lemma,"VERB"))return lemma}return value},nounRegexes=[{replace:/s$/,by:""},{replace:/ses$/,by:"s"},{replace:/xes$/,by:"x"},{replace:/zes$/,by:"s"},{replace:/ves$/,by:"f"},{replace:/ches$/,by:"ch"},{replace:/shes$/,by:"sh"},{replace:/ies$/,by:"y"}],lemmatizeNoun=function(value,cache){var lemma=nounExceptions[value];if(lemma)return lemma;lemma=value;for(let k=0;k<nounRegexes.length;k+=1)if((lemma=value.replace(nounRegexes[k].replace,nounRegexes[k].by)).length!==value.length&&cache.hasSamePOS(lemma,"NOUN"))return lemma;return value.replace(/men$/,"man")},lemmatize=function(value,pos,cache){var lemma;switch(pos){case"ADJ":lemma=lemmatizeAdjective(value,cache);break;case"NOUN":lemma=lemmatizeNoun(value,cache);break;case"VERB":lemma=lemmatizeVerb(value,cache);break;default:lemma=value}return lemma};module.exports=lemmatize;